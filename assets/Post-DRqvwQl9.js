import{_ as b,r as c,b as y,c as o,o as l,d as t,m as u,F as m,g,t as n,P as w,j as k,k as P,a as D,e as C,l as N}from"./index-WxJNGnfi.js";const V={class:"min-h-screen bg-gray-50"},$={class:"container mx-auto px-4 py-8"},j={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},B={key:1,class:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg max-w-2xl mx-auto"},E={class:"flex items-center"},I={class:"text-red-700"},S={key:2,class:"bg-gray-100 rounded-xl p-8 text-center max-w-2xl mx-auto"},F={key:3,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},L=["onClick"],R={class:"h-48 overflow-hidden"},z=["src","alt"],M={class:"p-5"},T={class:"text-xl font-bold text-gray-800 mb-3 line-clamp-2"},q={class:"text-gray-600 mb-4 line-clamp-3"},A={class:"flex justify-between items-center mt-auto"},G={class:"text-gray-500 text-sm"},H={__name:"Post",setup(J){const v=k(),i=c([]),d=c(!1),r=c(null),x=async()=>{d.value=!0,r.value=null;try{const s=await w("site/posts/list");s.ok&&s.list?i.value=s.list.data:r.value="خطا در دریافت لیست پست‌ها"}catch(s){r.value="خطا در ارتباط با سرور",console.error(s)}finally{d.value=!1}},_=s=>{v.push(`/posts/${s}`)},p=s=>{const e={year:"numeric",month:"long",day:"numeric"};return new Date(s).toLocaleDateString("fa-IR",e)},h=s=>{};return y(()=>{x()}),(s,e)=>{const f=P("router-link");return l(),o("div",V,[t("div",$,[e[4]||(e[4]=t("h1",{class:"text-3xl font-bold text-center mb-10 text-gray-800 relative pb-4"},[u(" جدیدترین پست‌های نیتروکد "),t("span",{class:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-24 h-1 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full"})],-1)),d.value?(l(),o("div",j,[(l(),o(m,null,g(3,a=>t("div",{key:a,class:"bg-white rounded-xl shadow-md overflow-hidden"},[...e[0]||(e[0]=[D('<div class="h-48 bg-gray-200 animate-pulse" data-v-54b09ca3></div><div class="p-5" data-v-54b09ca3><div class="h-6 bg-gray-200 rounded mb-3 animate-pulse" data-v-54b09ca3></div><div class="h-4 bg-gray-200 rounded w-3/4 mb-2 animate-pulse" data-v-54b09ca3></div><div class="h-4 bg-gray-200 rounded w-1/2 animate-pulse" data-v-54b09ca3></div></div>',2)])])),64))])):r.value?(l(),o("div",B,[t("div",E,[e[1]||(e[1]=t("i",{class:"fas fa-exclamation-triangle text-red-500 text-xl ml-3"},null,-1)),t("p",I,n(r.value),1)])])):i.value.length===0?(l(),o("div",S,[...e[2]||(e[2]=[t("i",{class:"fas fa-file-alt text-gray-400 text-4xl mb-4"},null,-1),t("p",{class:"text-gray-600 text-lg"},"هیچ پستی یافت نشد",-1)])])):(l(),o("div",F,[(l(!0),o(m,null,g(i.value,a=>(l(),o("article",{key:a.id,class:"bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-2 cursor-pointer",onClick:K=>_(a.link)},[t("div",R,[t("img",{src:`https://api.nitrocode.ir/${a.image}`,alt:a.title,class:"w-full h-full object-cover transition-transform duration-500 hover:scale-105",loading:"lazy",onError:h},null,40,z)]),t("div",M,[t("h2",T,n(a.title),1),t("p",q,n(a.small_description),1),t("div",A,[t("span",G,n(p(a.created_at)),1),C(f,{to:{name:"PostDetail",params:{link:a.link}},class:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 hover:shadow-md"},{default:N(()=>[...e[3]||(e[3]=[u(" ادامه مطلب ",-1)])]),_:1},8,["to"])])])],8,L))),128))]))])])}}},Q=b(H,[["__scopeId","data-v-54b09ca3"]]);export{Q as default};
