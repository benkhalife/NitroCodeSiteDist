import{c as r,o as n,d as e,_ as q,i as H,r as u,h,b as T,n as a,t as i,f as v,m as $,F as U,g as M,e as f,l as L,k as N,P,A as D,u as O,p as R,q as F}from"./index-CsnjrCHI.js";function J(C,A){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"})])}const W={class:"min-h-screen bg-gray-50"},Z={class:"mb-6 bg-white shadow-sm border-b border-gray-200"},G={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},K={"aria-label":"Breadcrumb",class:"breadcrumbs text-primary text-sm mt-4",dir:"rtl"},Q={itemscope:"",itemtype:"https://schema.org/BreadcrumbList",class:"flex gap-2"},X={itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem",class:"text-gray-700"},Y={key:0,class:"container mx-auto px-4 py-16"},ee={class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative max-w-3xl mx-auto text-center",role:"alert"},te={key:1,class:"md:container mx-auto px-1 md:px-4","aria-labelledby":"main-course-title"},le={class:"mb-8","aria-labelledby":"course-overview"},se={class:"flex flex-col lg:flex-row gap-6 p-2"},oe={"aria-hidden":"false",class:"relative"},ae=["poster","aria-label"],ie=["src"],re={class:"sr-only"},ne=["src","alt"],de={class:"w-full xl:w-5/12 bg-white rounded-xl shadow-lg order-1 lg:order-2","aria-labelledby":"course-card"},ce={id:"course-card",class:"flex flex-col justify-between w-full h-full pt-6 p-4"},ue={key:1,class:"flex flex-wrap gap-2",role:"list"},me={class:"rounded-xl p-2 md:p-4 flex flex-col gap-4"},pe={class:"flex gap-1 items-center pb-2"},xe={class:"flex gap-1 items-center pb-2"},ge={class:"flex gap-1 items-center pb-2"},he={key:0},ve={class:"w-full"},fe=["aria-label"],be={class:"bg-white rounded-xl shadow-lg p-2 md:p-6 xl:p-12 mb-8 course-description","aria-labelledby":"desc-heading"},_e=["innerHTML"],we={key:1,class:"flex flex-col gap-4"},ye={class:"bg-white rounded-xl shadow-lg p-6","aria-labelledby":"episodes-heading"},ke={class:"flex flex-col gap-6 md:gap-4"},$e=["aria-posinset","aria-setsize"],Le={class:"flex flex-wrap md:flex-nowrap gap-2 items-center p-4"},Ce={class:"absolute -top-4 z-10 -right-2 md:hidden bg-gray-50 w-10 h-10 rounded-full flex items-center justify-center border border-gray-200"},Ae={class:"text-blue-700 font-bold text-sm"},Ie={class:"hidden md:flex md:order-1 flex-shrink-0 w-10 h-10 rounded-full bg-blue-600 items-center justify-center shadow-md","aria-hidden":"true"},Se={class:"text-white font-bold text-sm"},je={class:"order-0 w-full md:order-2 md:w-auto flex-grow mt-2 md:mt-0"},Ee={class:"font-semibold text-gray-800 text-lg"},ze={class:"text-gray-600 text-sm mt-1"},Ve={class:"order-2 md:order-3 flex-shrink-0"},Be={class:"order-3 md:order-4 flex"},qe={class:"text-blue-600 hover:text-blue-800 transition-all duration-300 hover:scale-110","aria-hidden":"true"},He={class:"bg-white rounded-xl shadow-lg p-2 mt-8","aria-labelledby":"instructor-heading"},Te={class:"flex flex-col md:flex-row items-center hover:bg-gray-500/5 duration-200 p-2 lg:p-6 rounded-md"},Ue={class:"flex items-center gap-2 md:gap-4"},Me={class:"font-bold text-gray-800 text-lg"},Ne={class:"text-gray-600"},Pe={key:0,class:"md:mr-auto md:ml-0"},De=1200,Oe=675,Re=1280,Fe=720,Je={__name:"CourseView",setup(C){const I=H().params.link,s=u(null),d=u(null),g=u([]),b=u(!0),m=u(null),p=u({}),_=h(()=>s.value?`https://api.nitrocode.ir/${s.value.image}`:""),w=h(()=>d.value&&d.value.video_poster?`https://api.nitrocode.ir/${d.value.video_poster_url}`:_.value),y=h(()=>d.value&&d.value.video_url?`https://api.nitrocode.ir${d.value.video_url}`:null),S=t=>{O({htmlAttrs:{lang:"fa",dir:"rtl"},title:t.meta_title||`${t.title} | نیتروکد`,meta:[{name:"description",content:t.meta_description||t.small_description||"دوره آموزشی"},{name:"keywords",content:t.meta_keywords||"آموزش برنامه نویسی, دوره آموزشی, نیتروکد"},{name:"robots",content:t.meta_robots||"index,follow"},{property:"og:locale",content:"fa_IR"},{property:"og:title",content:t.meta_title||t.title},{property:"og:description",content:t.meta_description||t.small_description||"دوره آموزشی"},{property:"og:image",content:`https://api.nitrocode.ir/${t.image}`},{property:"og:url",content:window.location.href},{property:"og:type",content:"website"},{property:"og:site_name",content:"نیتروکد"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:t.meta_title||t.title},{name:"twitter:description",content:t.meta_description||t.small_description||"دوره آموزشی"},{name:"twitter:image",content:`https://api.nitrocode.ir/${t.image}`}],link:[{rel:"canonical",href:t.meta_canonical||window.location.href}],script:[{type:"application/ld+json",children:JSON.stringify(j(t))}]})},j=t=>{const l=window.location.origin,x={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"صفحه اصلی",item:`${l}/`},{"@type":"ListItem",position:2,name:"دوره‌ها",item:`${l}/courses`},{"@type":"ListItem",position:3,name:t.title,item:`${l}${window.location.pathname}`}]},c=[{"@context":"https://schema.org","@type":"Course",name:t.title,description:t.meta_description||t.small_description||"",url:`${l}${window.location.pathname}`,provider:{"@type":"Organization",name:"نیتروکد",url:l}},x];return d.value&&d.value.video_url&&c.push({"@context":"https://schema.org","@type":"VideoObject",name:`${t.title} — ویدیوی معرفی`,description:t.small_description||"",thumbnailUrl:w.value,uploadDate:d.value.upload_date||void 0,contentUrl:y.value,embedUrl:window.location.href}),{"@context":"https://schema.org","@graph":c}},E=()=>{R(()=>{const t=document.querySelector(".course-description");if(!t)return;t.querySelectorAll("img").forEach(o=>{o.hasAttribute("loading")||o.setAttribute("loading","lazy"),(!o.alt||o.alt.trim()==="")&&o.setAttribute("alt",s.value.title||"تصویر"),o.width||(o.width=De),o.height||(o.height=Oe)}),t.querySelectorAll("a").forEach(o=>{try{new URL(o.href,window.location.origin).origin!==window.location.origin&&(o.setAttribute("target","_blank"),o.setAttribute("rel","noopener noreferrer"))}catch{}})})},z=async()=>{try{const t=await D("site/active-user/course-shopping/add-to-cart/"+s.value.id);console.log(t)}catch(t){console.error(t)}},k=async()=>{b.value=!0,m.value=null;try{const t=await P(`site/course/${I}`);t.ok?(s.value=t.product,d.value=t.introduction,g.value=t.episodes||[],p.value=t.author||{},S(s.value),E()):m.value="دوره مورد نظر یافت نشد"}catch(t){m.value="خطا در اتصال به سرور",console.error(t)}finally{b.value=!1}},V=t=>{switch(t){case"free":return"bg-green-100 text-green-800";case"vip":return"bg-yellow-100 text-yellow-800";case"free_with_login":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},B=t=>{switch(t){case"free":return"رایگان";case"vip":return"ویژه";case"free_with_login":return"نیاز به ورود";default:return"قفل شده"}};return T(()=>{k()}),(t,l)=>{const x=N("router-link");return n(),r("div",W,[e("header",Z,[e("div",G,[e("h1",{id:"main-course-title",class:a(["text-xl md:text-2xl font-bold text-gray-900",{"skeleton w-72 p-4":!s.value}])},i(s.value?.title),3),e("nav",K,[e("ul",Q,[l[2]||(l[2]=e("li",{itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},[e("a",{itemprop:"item",href:"/",class:"hover:underline"},[e("span",{itemprop:"name"},"صفحه اصلی")]),e("meta",{itemprop:"position",content:"1"})],-1)),l[3]||(l[3]=e("li",{itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},[e("a",{itemprop:"item",href:"/courses",class:"hover:underline"},[e("span",{itemprop:"name"},"دوره‌ها")]),e("meta",{itemprop:"position",content:"2"})],-1)),e("li",X,[e("span",{itemprop:"name",class:a({"skeleton w-72 p-3":!s.value})},i(s.value?.title),3),l[1]||(l[1]=e("meta",{itemprop:"position",content:"3"},null,-1))])])])])]),m.value?(n(),r("div",Y,[e("div",ee,[l[4]||(l[4]=e("h2",{class:"text-xl font-bold mb-2"},"خطا در بارگذاری دوره",-1)),e("p",null,i(m.value),1),e("button",{onClick:k,class:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors"}," تلاش مجدد ")])])):(n(),r("div",te,[e("section",le,[e("div",se,[e("div",{class:a(["w-full xl:w-7/12 order-2 lg:order-1",{skeleton:!s.value}])},[e("figure",oe,[d.value&&d.value.video_url?(n(),r("video",{key:0,poster:w.value,controls:"",playsinline:"",preload:"metadata",width:Re,height:Fe,class:"top-0 left-0 w-full h-full rounded-xl bg-black shadow-lg","aria-label":`ویدیوی معرفی دوره ${s.value?.title}`},[e("source",{src:y.value,type:"video/mp4"},null,8,ie),l[5]||(l[5]=$(" مرورگر شما از پخش ویدیو پشتیبانی نمی‌کند. ",-1))],8,ae)):v("",!0),e("figcaption",re,"ویدیوی معرفی دوره "+i(s.value?.title),1)]),e("noscript",null,[e("img",{src:_.value,alt:s.value?.title+" — تصویر دوره",loading:"lazy"},null,8,ne)])],2),e("aside",de,[e("div",ce,[s.value?(n(),r("div",ue,[...l[6]||(l[6]=[e("span",{class:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"}," برنامه‌نویسی ",-1),e("span",{class:"bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"}," ۸ ساعت ",-1),e("span",{class:"bg-purple-100 text-purple-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"}," مقدماتی ",-1)])])):(n(),r("div",{key:0,class:a({"skeleton w-full p-5":!s.value})},null,2)),e("div",me,[e("div",pe,[l[7]||(l[7]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"تعداد قسمت‌ها : ",-1)),e("div",{class:a(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!s.value}])},i(g.value?.length||""),3)]),e("div",xe,[l[8]||(l[8]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"مدت زمان دوره : ",-1)),e("div",{class:a(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!s.value}])},null,2)]),e("div",ge,[l[9]||(l[9]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"قیمت دوره : ",-1)),e("div",{class:a(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!s.value}])},[s.value?(n(),r("span",he,i(s.value?.show_price==="0"?"رایگان":s.value?.show_price+" تومان"),1)):v("",!0)],2)]),e("div",null,[l[10]||(l[10]=e("div",{class:"text-gray-500"},"خلاصه‌ی این دوره:",-1)),e("p",{class:a(["pr-0 md:pr-4 text-md md:text-lg text-gray-600",{"skeleton w-full p-5":!s.value}]),id:"course-summary"},i(s.value?.small_description),3)])]),e("div",ve,[e("button",{onClick:l[0]||(l[0]=o=>z()),class:"btn btn-primary btn-lg w-full","aria-label":`ثبت نام در دوره ${s.value?.title}`}," ثبت نام در دوره ",8,fe)])])])])]),e("section",be,[l[11]||(l[11]=e("h2",{id:"desc-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"}," توضیحات دوره",-1)),s.value?(n(),r("div",{key:0,innerHTML:s.value?.description,class:"text-gray-700 leading-relaxed prose xl:prose-lg 2xl:prose-xl text-justify max-w-none"},null,8,_e)):(n(),r("div",we,[e("div",{class:a({"skeleton w-full p-4":!s.value})},null,2),e("div",{class:a({"skeleton w-full p-4":!s.value})},null,2),e("div",{class:a({"skeleton w-full p-4":!s.value})},null,2),e("div",{class:a({"skeleton w-full p-4":!s.value})},null,2),e("div",{class:a({"skeleton w-full p-4":!s.value})},null,2),e("div",{class:a({"skeleton w-full p-4":!s.value})},null,2),e("div",{class:a({"skeleton w-full p-4":!s.value})},null,2),e("div",{class:a({"skeleton w-full p-4":!s.value})},null,2),e("div",{class:a({"skeleton w-full p-4":!s.value})},null,2),e("div",{class:a({"skeleton w-full p-4":!s.value})},null,2),e("div",{class:a({"skeleton w-full p-4":!s.value})},null,2)]))]),e("section",ye,[l[12]||(l[12]=e("h2",{id:"episodes-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-6 pb-3 border-b-2 border-gray-200"},"سرفصل‌های دوره",-1)),e("div",ke,[(n(!0),r(U,null,M(g.value,(o,c)=>(n(),r("article",{class:"relative",key:o.id,"aria-posinset":c+1,"aria-setsize":g.value.length},[f(x,{to:{name:"show_episode",params:{course_link:s.value.link,episode_link:o.link}},class:"block border border-gray-200 rounded-lg overflow-hidden transition-all duration-300 shadow hover:shadow-md hover:border-blue-300 bg-gray-50/50 hover:bg-gray-50","aria-label":`مشاهده قسمت ${c+1} - ${o.title}`},{default:L(()=>[e("div",Le,[e("div",Ce,[e("span",Ae,i(c+1),1)]),e("div",Ie,[e("div",Se,i(c+1),1)]),e("div",je,[e("h3",Ee,i(o.title),1),e("p",ze,i(o.small_description),1)]),e("div",Ve,[e("span",{class:a([V(o.display_status),"text-xs font-medium px-3 py-1 rounded-full"])},i(B(o.display_status)),3)]),e("div",Be,[e("button",qe,[f(F(J),{class:"size-10"})])])])]),_:2},1032,["to","aria-label"])],8,$e))),128))])]),l[16]||(l[16]=e("section",{class:"bg-white rounded-xl shadow-lg p-6 mt-8","aria-labelledby":"requirements-heading"},[e("h2",{id:"requirements-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"},"پیش‌نیازهای دوره"),e("ul",{class:"space-y-3 text-gray-700",role:"list"},[e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"آشنایی مقدماتی با مفاهیم برنامه‌نویسی")]),e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"داشتن کامپیوتر شخصی")]),e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"انگیزه و پشتکار برای یادگیری")])])],-1)),e("section",He,[l[15]||(l[15]=e("h2",{id:"instructor-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"},"مدرس دوره",-1)),e("div",Te,[e("div",Ue,[l[13]||(l[13]=e("div",{class:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center ml-4 shadow-lg","aria-hidden":"true"},[e("i",{class:"fas fa-user text-white text-2xl"})],-1)),e("div",null,[e("h3",Me,i(p.value.name),1),e("p",Ne,i(p.value.title),1)])]),p.value?.slug?(n(),r("div",Pe,[f(x,{to:{name:"author_info",params:{slug:p.value?.slug}},class:"btn btn-primary"},{default:L(()=>[...l[14]||(l[14]=[$("مشاهده اطلاعات مدرس",-1)])]),_:1},8,["to"])])):v("",!0)])])]))])}}},Ze=q(Je,[["__scopeId","data-v-6d79a39a"]]);export{Ze as default};
