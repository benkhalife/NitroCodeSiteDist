import{c as a,o as i,d as e,_ as Z,i as q,r as m,h as k,b as A,n as o,t as r,f as b,m as _,e as h,p as $,q as F,F as J,g as W,l as j,k as G,P as K,s as Q,I as D,j as X,A as Y,u as ee,D as w,H as z,v as te}from"./index-D6bc6A0Y.js";import{S as C}from"./sweetalert2.esm.all-NNS-RXd7.js";import{r as se}from"./ShoppingCartIcon-DOXT-KS3.js";function le(I,f){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function oe(I,f){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"})])}const ae={class:"min-h-screen bg-gray-50"},ie={class:"mb-6 bg-white shadow-sm border-b border-gray-200"},re={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},ne={"aria-label":"Breadcrumb",class:"breadcrumbs text-primary text-sm mt-4",dir:"rtl"},de={itemscope:"",itemtype:"https://schema.org/BreadcrumbList",class:"flex gap-2"},ce={itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem","aria-current":"page",class:"text-gray-700"},ue={key:0,class:"container mx-auto px-4 py-16"},me={class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative max-w-3xl mx-auto text-center",role:"alert"},pe={key:1,class:"md:container mx-auto px-1 md:px-4","aria-labelledby":"main-course-title"},xe={class:"mb-8","aria-labelledby":"course-overview"},ge={class:"flex flex-col lg:flex-row gap-6 p-2"},ve={"aria-hidden":"false",class:"relative"},he=["poster","aria-label"],fe=["src"],be={class:"sr-only"},_e=["src","alt"],we={class:"w-full xl:w-5/12 bg-white rounded-xl shadow-lg order-1 lg:order-2","aria-labelledby":"course-card"},ye={id:"course-card",class:"flex flex-col justify-between w-full h-full pt-6 p-4"},ke={key:1,class:"flex flex-wrap gap-2",role:"list"},$e={class:"bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"},Ce={class:"rounded-xl p-2 md:p-4 flex flex-col gap-4"},Ie={class:"flex gap-1 items-center pb-2"},Se={key:0,class:"inline-flex items-center gap-2"},Le={class:"tooltip","data-tip":"وضعیت درحال ضبط به معنی آن است که هنوز قسمت‌ها(درس‌های این دوره) درحال ضبط هست و هنوز تمام آن قسمت‌ها روی سایت قرار نگرفته و به مرور زمان قسمت‌های بعدی روی سایت قرار می‌گیرد و تکمیل می شود"},Te={class:"flex gap-1 items-center pb-2"},Be={class:"flex gap-1 items-center pb-2"},Me={class:"flex gap-1 items-center pb-2"},Ve={key:0},je={class:"w-full flex flex-col md:flex-row gap-2"},De=["aria-label"],ze={class:"bg-white rounded-xl shadow-lg p-2 md:p-6 xl:p-12 mb-8 course-description","aria-labelledby":"desc-heading"},Ee=["innerHTML"],He={key:1,class:"flex flex-col gap-4"},Ne={id:"episodes",class:"bg-white rounded-xl shadow-lg p-6","aria-labelledby":"episodes-heading"},Pe={class:"flex flex-col gap-6 md:gap-4"},Oe=["aria-posinset","aria-setsize"],Re={class:"flex flex-wrap md:flex-nowrap gap-2 items-center p-4"},Ue={class:"absolute -top-4 z-10 -right-2 md:hidden bg-gray-50 w-10 h-10 rounded-full flex items-center justify-center border border-gray-200"},Ze={key:0,class:"text-blue-700 font-bold text-sm"},qe={key:1,class:"text-blue-700 font-bold text-sm"},Ae={class:"hidden md:flex md:order-1 flex-shrink-0 w-10 h-10 rounded-full bg-blue-600 items-center justify-center shadow-md","aria-hidden":"true"},Fe={key:0,class:"text-white font-bold text-sm"},Je={key:1,class:"text-blue-700 font-bold text-sm text-white"},We={class:"order-0 w-full md:order-2 md:w-auto flex-grow mt-2 md:mt-0"},Ge={class:"font-semibold text-gray-800 text-lg"},Ke={class:"text-gray-600 text-sm mt-1"},Qe={class:"order-2 md:order-3 flex-shrink-0"},Xe={class:"order-3 md:order-4 flex"},Ye={class:"text-blue-600 hover:text-blue-800 transition-all duration-300 hover:scale-110"},et={class:"bg-white rounded-xl shadow-lg p-2 mt-8","aria-labelledby":"instructor-heading"},tt={class:"flex flex-col md:flex-row items-center hover:bg-gray-500/5 duration-200 p-2 lg:p-6 rounded-md"},st={class:"flex items-center gap-2 md:gap-4"},lt={class:"font-bold text-gray-800 text-lg"},ot={class:"text-gray-600"},at={key:0,class:"md:mr-auto md:ml-0"},it=1280,rt=720,nt={__name:"CourseView",setup(I){const f=q(),p=X(),E=f.params.link,l=m(null),n=m(null),x=m([]),S=m(!0),g=m(null),v=m({}),y=m(0),L=k(()=>l.value?`https://api.nitrocode.ir/${l.value.image}`:""),T=k(()=>n.value&&n.value.video_poster?`https://api.nitrocode.ir/${n.value.video_poster_url}`:L.value),B=k(()=>n.value&&n.value.video_url?`https://api.nitrocode.ir${n.value.video_url}`:null),H=s=>{const t=document.getElementById(s);t&&(t.scrollIntoView({behavior:"smooth",block:"start"}),window.history.pushState(null,null,`#${s}`))},N=s=>{ee({htmlAttrs:{lang:"fa",dir:"rtl"},title:s.meta_title||`${s.title} | نیتروکد`,meta:[{name:"description",content:s.meta_description||s.small_description||"دوره آموزشی"},{name:"keywords",content:s.meta_keywords||"آموزش برنامه نویسی, دوره آموزشی, نیتروکد"},{name:"robots",content:s.meta_robots||"index,follow"},{property:"og:locale",content:"fa_IR"},{property:"og:title",content:s.meta_title||s.title},{property:"og:description",content:s.meta_description||s.small_description||"دوره آموزشی"},{property:"og:image",content:`https://api.nitrocode.ir/${s.image}`},{property:"og:url",content:window.location.href},{property:"og:type",content:"website"},{property:"og:site_name",content:"نیتروکد"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:s.meta_title||s.title},{name:"twitter:description",content:s.meta_description||s.small_description||"دوره آموزشی"},{name:"twitter:image",content:`https://api.nitrocode.ir/${s.image}`}],link:[{rel:"canonical",href:s.meta_canonical||window.location.href}],script:[{type:"application/ld+json",children:JSON.stringify(P(s))}]})},P=s=>{const t=window.location.origin,u={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"صفحه اصلی",item:`${t}/`},{"@type":"ListItem",position:2,name:"دوره‌ها",item:`${t}/courses`},{"@type":"ListItem",position:3,name:s.title,item:`${t}${window.location.pathname}`}]},c=[{"@context":"https://schema.org","@type":"Course",name:s.title,description:z(s.description),url:`${t}${window.location.pathname}`,courseCode:s.code||`course-${s.id}`,uploadDate:w(s.created_at),dateModified:w(s.updated_at),hasCourseInstance:{"@type":"CourseInstance",courseMode:"online"},provider:{"@type":"Organization",name:"NitroCode",url:t}},u];return n.value&&n.value.video_url&&c.push({"@context":"https://schema.org","@type":"VideoObject",name:`${s.title} — ویدیوی معرفی`,description:z(s.description),thumbnailUrl:T.value,uploadDate:w(n.value.created_at),dateModified:w(n.value.updated_at),contentUrl:B.value,duration:te(n.value?.duration)}),{"@context":"https://schema.org","@graph":c}},M=async()=>{if(D()==!1){C.fire({icon:"warning",title:"برای افزودن به سبد خرید لطفا وارد حساب کاربری خود شوید",confirmButtonText:"ورود به حساب کاربری"}).then(async s=>{s.isConfirmed&&(await window.localStorage.setItem("redirect_after_login",p.currentRoute.value.fullPath+"#auto-add"),p.push({name:"login"}))});return}try{const s=await Y("site/active-user/course-shopping/add-to-cart/"+l.value.id);(s.ok||s.ok==!1&&s.carts&&s.carts.length)&&C.fire({icon:"success",title:"دوره به سبد خرید اضافه شد",text:"می‌توانید پرداخت را انجام دهید یا سبد خرید را مشاهده کنید.",showCancelButton:!0,confirmButtonText:"پرداخت و مشاهده‌ی دوره",cancelButtonText:"مشاهده سبد خرید"}).then(t=>{t.isConfirmed?p.push({name:"user_cart",hash:"#checkout_now"}):t.dismiss===C.DismissReason.cancel&&p.push({name:"user_cart"})})}catch(s){console.error(s)}},V=async()=>{S.value=!0,g.value=null;try{const s=await K(`site/course/${E}`);if(s.ok){l.value=s.product,n.value=s.introduction,x.value=s.episodes||[],v.value=s.author||{};const t=x.value.reduce((u,d)=>u+(parseInt(d.duration)||0),0);y.value=O(t),N(l.value),Q(()=>{window.isLoading.value=!1,f.hash==="#auto-add"&&D()&&(p.replace({hash:""}),M())})}else g.value="دوره مورد نظر یافت نشد"}catch(s){g.value="خطا در اتصال به سرور",console.error(s)}finally{S.value=!1}},O=s=>{const t=Number(s)||0,u=Math.floor(t/3600),d=Math.floor(t%3600/60);return`${u.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`},R=s=>{switch(s){case"free":return"bg-green-100 text-green-800";case"vip":return"bg-yellow-100 text-yellow-800";case"free_with_login":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},U=s=>{switch(s){case"free":return"رایگان";case"vip":return"VIP";case"free_with_login":return"نیاز به ورود";case"vip_preview":return"VIP + پیش‌نمایش";default:return"قفل شده"}};return A(()=>{V()}),(s,t)=>{const u=G("router-link");return i(),a("div",ae,[e("header",ie,[e("div",re,[e("h1",{id:"main-course-title",class:o(["text-xl md:text-2xl font-bold text-gray-900",{"skeleton w-72 p-4":!l.value}])},r(l.value?.title),3),e("nav",ne,[e("ul",de,[t[3]||(t[3]=e("li",{itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},[e("a",{itemprop:"item",href:"/",class:"hover:underline"},[e("span",{itemprop:"name"},"صفحه اصلی")]),e("meta",{itemprop:"position",content:"1"})],-1)),t[4]||(t[4]=e("li",{itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},[e("a",{itemprop:"item",href:"/courses",class:"hover:underline"},[e("span",{itemprop:"name"},"دوره‌ها")]),e("meta",{itemprop:"position",content:"2"})],-1)),e("li",ce,[e("span",{itemprop:"name",class:o({"skeleton w-72 p-3":!l.value})},r(l.value?.title),3),t[2]||(t[2]=e("meta",{itemprop:"position",content:"3"},null,-1))])])])])]),g.value?(i(),a("div",ue,[e("div",me,[t[5]||(t[5]=e("h2",{class:"text-xl font-bold mb-2"},"خطا در بارگذاری دوره",-1)),e("p",null,r(g.value),1),e("button",{onClick:V,class:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors"}," تلاش مجدد ")])])):(i(),a("div",pe,[e("section",xe,[e("div",ge,[e("div",{class:o(["w-full xl:w-7/12 order-2 lg:order-1",{skeleton:!l.value}])},[e("figure",ve,[n.value&&n.value.video_url?(i(),a("video",{key:0,poster:T.value,controls:"",playsinline:"",preload:"metadata",width:it,height:rt,class:"top-0 left-0 w-full h-full rounded-xl bg-black shadow-lg","aria-label":`ویدیوی معرفی دوره ${l.value?.title}`},[e("source",{src:B.value,type:"video/mp4"},null,8,fe),t[6]||(t[6]=_(" مرورگر شما از پخش ویدیو پشتیبانی نمی‌کند. ",-1))],8,he)):b("",!0),e("figcaption",be,"ویدیوی معرفی دوره "+r(l.value?.title),1)]),e("noscript",null,[e("img",{src:L.value,alt:l.value?.title+" — تصویر دوره",loading:"lazy"},null,8,_e)])],2),e("aside",we,[e("div",ye,[l.value?(i(),a("div",ke,[t[7]||(t[7]=e("span",{class:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"}," برنامه‌نویسی ",-1)),e("span",$e,r(y.value)+" ساعت ",1),t[8]||(t[8]=e("span",{class:"bg-purple-100 text-purple-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"}," مقدماتی ",-1))])):(i(),a("div",{key:0,class:o({"skeleton w-full p-5":!l.value})},null,2)),e("div",Ce,[e("div",Ie,[t[10]||(t[10]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"وضعیت دوره : ",-1)),e("div",{class:o(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!l.value}])},[l.value&&l.value.status==="recording"?(i(),a("span",Se,[t[9]||(t[9]=_("درحال ضبط ",-1)),e("span",Le,[h($(le),{class:"size-6 text-warning"})])])):b("",!0)],2)]),e("div",Te,[t[11]||(t[11]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"تعداد قسمت‌ها : ",-1)),e("div",{class:o(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!l.value}])},r(x.value?.length||""),3)]),e("div",Be,[t[12]||(t[12]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"مدت زمان دوره : ",-1)),e("div",{class:o(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!l.value}])},r(y.value),3)]),e("div",Me,[t[13]||(t[13]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"قیمت دوره : ",-1)),e("div",{class:o(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!l.value}])},[l.value?(i(),a("span",Ve,r(l.value?.show_price==="0"?"رایگان":l.value?.show_price+" تومان"),1)):b("",!0)],2)]),e("div",null,[t[14]||(t[14]=e("div",{class:"text-gray-500"},"خلاصه‌ی این دوره:",-1)),e("p",{class:o(["pr-0 md:pr-4 text-md md:text-lg text-gray-600",{"skeleton w-full p-5":!l.value}]),id:"course-summary"},r(l.value?.small_description),3)])]),e("div",je,[e("button",{onClick:t[0]||(t[0]=d=>M()),class:"btn btn-primary btn-lg flex-1 p-2","aria-label":`ثبت نام در دوره ${l.value?.title}`},[t[15]||(t[15]=_(" خرید دوره و مشاهده ",-1)),h($(se),{class:"size-6 inline-block mr-2 text-teal-100"})],8,De),e("a",{onClick:t[1]||(t[1]=F(d=>H("episodes"),["prevent"])),class:"btn btn-outline btn-lg opacity-70",href:"#episodes"},"مشاهده سرفصل‌ها")])])])])]),e("section",ze,[t[16]||(t[16]=e("h2",{id:"desc-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"}," توضیحات دوره",-1)),l.value?(i(),a("div",{key:0,innerHTML:l.value?.description,class:"text-gray-700 leading-relaxed prose xl:prose-lg 2xl:prose-xl text-justify max-w-none"},null,8,Ee)):(i(),a("div",He,[e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2)]))]),e("section",Ne,[t[17]||(t[17]=e("h2",{id:"episodes-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-6 pb-3 border-b-2 border-gray-200"},"سرفصل‌های دوره",-1)),e("div",Pe,[(i(!0),a(J,null,W(x.value,(d,c)=>(i(),a("article",{class:"relative",key:d.id,"aria-posinset":c+1,"aria-setsize":x.value.length},[h(u,{to:{name:"show_episode",params:{course_link:l.value.link,episode_link:d.link}},class:"block border border-gray-200 rounded-lg overflow-hidden transition-all duration-300 shadow hover:shadow-md hover:border-blue-300 bg-gray-50/50 hover:bg-gray-50","aria-label":`مشاهده قسمت ${c+1} - ${d.title}`},{default:j(()=>[e("div",Re,[e("div",Ue,[c>0?(i(),a("span",Ze,r(c),1)):(i(),a("span",qe,"مقدمه"))]),e("div",Ae,[c>0?(i(),a("div",Fe,r(c),1)):(i(),a("span",Je,"مقدمه"))]),e("div",We,[e("h3",Ge,r(d.title),1),e("p",Ke,r(d.small_description),1)]),e("div",Qe,[e("span",{class:o([R(d.display_status),"text-xs font-medium px-3 py-1 rounded-full"])},r(U(d.display_status)),3)]),e("div",Xe,[e("div",Ye,[h($(oe),{class:"size-10"})])])])]),_:2},1032,["to","aria-label"])],8,Oe))),128))])]),t[21]||(t[21]=e("section",{class:"bg-white rounded-xl shadow-lg p-6 mt-8","aria-labelledby":"requirements-heading"},[e("h2",{id:"requirements-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"},"پیش‌نیازهای دوره"),e("ul",{class:"space-y-3 text-gray-700",role:"list"},[e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"آشنایی مقدماتی با مفاهیم برنامه‌نویسی")]),e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"داشتن کامپیوتر شخصی")]),e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"انگیزه و پشتکار برای یادگیری")])])],-1)),e("section",et,[t[20]||(t[20]=e("h2",{id:"instructor-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"},"مدرس دوره",-1)),e("div",tt,[e("div",st,[t[18]||(t[18]=e("div",{class:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center ml-4 shadow-lg","aria-hidden":"true"},[e("i",{class:"fas fa-user text-white text-2xl"})],-1)),e("div",null,[e("h3",lt,r(v.value.name),1),e("p",ot,r(v.value.title),1)])]),v.value?.slug?(i(),a("div",at,[h(u,{to:{name:"author_info",params:{slug:v.value?.slug}},class:"btn btn-primary"},{default:j(()=>[...t[19]||(t[19]=[_("مشاهده اطلاعات مدرس",-1)])]),_:1},8,["to"])])):b("",!0)])])]))])}}},mt=Z(nt,[["__scopeId","data-v-7beb6bf9"]]);export{mt as default};
