import{c as a,o as i,d as e,_ as N,i as D,r as m,h as b,b as U,n as o,t as r,f as v,m as _,e as h,p as S,F as P,g as Z,l as j,k as A,P as O,A as q,u as F}from"./index-CziMsHpB.js";function J(w,y){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function R(w,y){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"})])}const W={class:"min-h-screen bg-gray-50"},G={class:"mb-6 bg-white shadow-sm border-b border-gray-200"},K={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},Q={"aria-label":"Breadcrumb",class:"breadcrumbs text-primary text-sm mt-4",dir:"rtl"},X={itemscope:"",itemtype:"https://schema.org/BreadcrumbList",class:"flex gap-2"},Y={itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem","aria-current":"page",class:"text-gray-700"},ee={key:0,class:"container mx-auto px-4 py-16"},te={class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative max-w-3xl mx-auto text-center",role:"alert"},se={key:1,class:"md:container mx-auto px-1 md:px-4","aria-labelledby":"main-course-title"},le={class:"mb-8","aria-labelledby":"course-overview"},oe={class:"flex flex-col lg:flex-row gap-6 p-2"},ae={"aria-hidden":"false",class:"relative"},ie=["poster","aria-label"],re=["src"],ne={class:"sr-only"},de=["src","alt"],ce={class:"w-full xl:w-5/12 bg-white rounded-xl shadow-lg order-1 lg:order-2","aria-labelledby":"course-card"},ue={id:"course-card",class:"flex flex-col justify-between w-full h-full pt-6 p-4"},me={key:1,class:"flex flex-wrap gap-2",role:"list"},pe={class:"bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"},xe={class:"rounded-xl p-2 md:p-4 flex flex-col gap-4"},ge={class:"flex gap-1 items-center pb-2"},ve={key:0,class:"inline-flex items-center gap-2"},he={class:"tooltip","data-tip":"وضعیت درحال ضبط به معنی آن است که هنوز قسمت‌ها(درس‌های این دوره) درحال ضبط هست و هنوز تمام آن قسمت‌ها روی سایت قرار نگرفته و به مرور زمان قسمت‌های بعدی روی سایت قرار می‌گیرد و تکمیل می شود"},fe={class:"flex gap-1 items-center pb-2"},be={class:"flex gap-1 items-center pb-2"},_e={class:"flex gap-1 items-center pb-2"},we={key:0},ye={class:"w-full"},ke=["aria-label"],$e={class:"bg-white rounded-xl shadow-lg p-2 md:p-6 xl:p-12 mb-8 course-description","aria-labelledby":"desc-heading"},Ce=["innerHTML"],Le={key:1,class:"flex flex-col gap-4"},Ie={class:"bg-white rounded-xl shadow-lg p-6","aria-labelledby":"episodes-heading"},Se={class:"flex flex-col gap-6 md:gap-4"},je=["aria-posinset","aria-setsize"],Me={class:"flex flex-wrap md:flex-nowrap gap-2 items-center p-4"},Ve={class:"absolute -top-4 z-10 -right-2 md:hidden bg-gray-50 w-10 h-10 rounded-full flex items-center justify-center border border-gray-200"},ze={key:0,class:"text-blue-700 font-bold text-sm"},Be={key:1,class:"text-blue-700 font-bold text-sm"},Ee={class:"hidden md:flex md:order-1 flex-shrink-0 w-10 h-10 rounded-full bg-blue-600 items-center justify-center shadow-md","aria-hidden":"true"},Te={key:0,class:"text-white font-bold text-sm"},He={key:1,class:"text-blue-700 font-bold text-sm text-white"},Ne={class:"order-0 w-full md:order-2 md:w-auto flex-grow mt-2 md:mt-0"},De={class:"font-semibold text-gray-800 text-lg"},Ue={class:"text-gray-600 text-sm mt-1"},Pe={class:"order-2 md:order-3 flex-shrink-0"},Ze={class:"order-3 md:order-4 flex"},Ae={class:"text-blue-600 hover:text-blue-800 transition-all duration-300 hover:scale-110","aria-hidden":"true"},Oe={class:"bg-white rounded-xl shadow-lg p-2 mt-8","aria-labelledby":"instructor-heading"},qe={class:"flex flex-col md:flex-row items-center hover:bg-gray-500/5 duration-200 p-2 lg:p-6 rounded-md"},Fe={class:"flex items-center gap-2 md:gap-4"},Je={class:"font-bold text-gray-800 text-lg"},Re={class:"text-gray-600"},We={key:0,class:"md:mr-auto md:ml-0"},Ge=1280,Ke=720,Qe={__name:"CourseView",setup(w){const M=D().params.link,l=m(null),d=m(null),p=m([]),k=m(!0),x=m(null),g=m({}),f=m(0),$=b(()=>l.value?`https://api.nitrocode.ir/${l.value.image}`:""),C=b(()=>d.value&&d.value.video_poster?`https://api.nitrocode.ir/${d.value.video_poster_url}`:$.value),L=b(()=>d.value&&d.value.video_url?`https://api.nitrocode.ir${d.value.video_url}`:null),V=s=>{F({htmlAttrs:{lang:"fa",dir:"rtl"},title:s.meta_title||`${s.title} | نیتروکد`,meta:[{name:"description",content:s.meta_description||s.small_description||"دوره آموزشی"},{name:"keywords",content:s.meta_keywords||"آموزش برنامه نویسی, دوره آموزشی, نیتروکد"},{name:"robots",content:s.meta_robots||"index,follow"},{property:"og:locale",content:"fa_IR"},{property:"og:title",content:s.meta_title||s.title},{property:"og:description",content:s.meta_description||s.small_description||"دوره آموزشی"},{property:"og:image",content:`https://api.nitrocode.ir/${s.image}`},{property:"og:url",content:window.location.href},{property:"og:type",content:"website"},{property:"og:site_name",content:"نیتروکد"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:s.meta_title||s.title},{name:"twitter:description",content:s.meta_description||s.small_description||"دوره آموزشی"},{name:"twitter:image",content:`https://api.nitrocode.ir/${s.image}`}],link:[{rel:"canonical",href:s.meta_canonical||window.location.href}],script:[{type:"application/ld+json",children:JSON.stringify(z(s))}]})},z=s=>{const t=window.location.origin,u={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"صفحه اصلی",item:`${t}/`},{"@type":"ListItem",position:2,name:"دوره‌ها",item:`${t}/courses`},{"@type":"ListItem",position:3,name:s.title,item:`${t}${window.location.pathname}`}]},c=[{"@context":"https://schema.org","@type":"Course",name:s.title,description:s.meta_description||s.small_description||"",url:`${t}${window.location.pathname}`,courseCode:s.code||`course-${s.id}`,hasCourseInstance:{"@type":"CourseInstance",courseMode:"online"},provider:{"@type":"Organization",name:"نیتروکد",url:t}},u];return d.value&&d.value.video_url&&c.push({"@context":"https://schema.org","@type":"VideoObject",name:`${s.title} — ویدیوی معرفی`,description:s.small_description||"",thumbnailUrl:C.value,uploadDate:s.created_at.replace(" ","T")+"+03:30"||void 0,contentUrl:L.value,embedUrl:window.location.href}),{"@context":"https://schema.org","@graph":c}},B=async()=>{try{const s=await q("site/active-user/course-shopping/add-to-cart/"+l.value.id);console.log(s)}catch(s){console.error(s)}},I=async()=>{k.value=!0,x.value=null;try{const s=await O(`site/course/${M}`);if(s.ok){l.value=s.product,d.value=s.introduction,p.value=s.episodes||[],g.value=s.author||{};const t=p.value.reduce((u,n)=>u+(parseInt(n.duration)||0),0);f.value=E(t),V(l.value)}else x.value="دوره مورد نظر یافت نشد"}catch(s){x.value="خطا در اتصال به سرور",console.error(s)}finally{k.value=!1}},E=s=>{const t=Number(s)||0,u=Math.floor(t/3600),n=Math.floor(t%3600/60);return`${u.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},T=s=>{switch(s){case"free":return"bg-green-100 text-green-800";case"vip":return"bg-yellow-100 text-yellow-800";case"free_with_login":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},H=s=>{switch(s){case"free":return"رایگان";case"vip":return"ویژه";case"free_with_login":return"نیاز به ورود";default:return"قفل شده"}};return U(()=>{I()}),(s,t)=>{const u=A("router-link");return i(),a("div",W,[e("header",G,[e("div",K,[e("h1",{id:"main-course-title",class:o(["text-xl md:text-2xl font-bold text-gray-900",{"skeleton w-72 p-4":!l.value}])},r(l.value?.title),3),e("nav",Q,[e("ul",X,[t[2]||(t[2]=e("li",{itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},[e("a",{itemprop:"item",href:"/",class:"hover:underline"},[e("span",{itemprop:"name"},"صفحه اصلی")]),e("meta",{itemprop:"position",content:"1"})],-1)),t[3]||(t[3]=e("li",{itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},[e("a",{itemprop:"item",href:"/courses",class:"hover:underline"},[e("span",{itemprop:"name"},"دوره‌ها")]),e("meta",{itemprop:"position",content:"2"})],-1)),e("li",Y,[e("span",{itemprop:"name",class:o({"skeleton w-72 p-3":!l.value})},r(l.value?.title),3),t[1]||(t[1]=e("meta",{itemprop:"position",content:"3"},null,-1))])])])])]),x.value?(i(),a("div",ee,[e("div",te,[t[4]||(t[4]=e("h2",{class:"text-xl font-bold mb-2"},"خطا در بارگذاری دوره",-1)),e("p",null,r(x.value),1),e("button",{onClick:I,class:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors"}," تلاش مجدد ")])])):(i(),a("div",se,[e("section",le,[e("div",oe,[e("div",{class:o(["w-full xl:w-7/12 order-2 lg:order-1",{skeleton:!l.value}])},[e("figure",ae,[d.value&&d.value.video_url?(i(),a("video",{key:0,poster:C.value,controls:"",playsinline:"",preload:"metadata",width:Ge,height:Ke,class:"top-0 left-0 w-full h-full rounded-xl bg-black shadow-lg","aria-label":`ویدیوی معرفی دوره ${l.value?.title}`},[e("source",{src:L.value,type:"video/mp4"},null,8,re),t[5]||(t[5]=_(" مرورگر شما از پخش ویدیو پشتیبانی نمی‌کند. ",-1))],8,ie)):v("",!0),e("figcaption",ne,"ویدیوی معرفی دوره "+r(l.value?.title),1)]),e("noscript",null,[e("img",{src:$.value,alt:l.value?.title+" — تصویر دوره",loading:"lazy"},null,8,de)])],2),e("aside",ce,[e("div",ue,[l.value?(i(),a("div",me,[t[6]||(t[6]=e("span",{class:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"}," برنامه‌نویسی ",-1)),e("span",pe,r(f.value)+" ساعت ",1),t[7]||(t[7]=e("span",{class:"bg-purple-100 text-purple-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"}," مقدماتی ",-1))])):(i(),a("div",{key:0,class:o({"skeleton w-full p-5":!l.value})},null,2)),e("div",xe,[e("div",ge,[t[9]||(t[9]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"وضعیت دوره : ",-1)),e("div",{class:o(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!l.value}])},[l.value&&l.value.status==="recording"?(i(),a("span",ve,[t[8]||(t[8]=_("درحال ضبط ",-1)),e("span",he,[h(S(J),{class:"size-6 text-warning"})])])):v("",!0)],2)]),e("div",fe,[t[10]||(t[10]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"تعداد قسمت‌ها : ",-1)),e("div",{class:o(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!l.value}])},r(p.value?.length||""),3)]),e("div",be,[t[11]||(t[11]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"مدت زمان دوره : ",-1)),e("div",{class:o(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!l.value}])},r(f.value),3)]),e("div",_e,[t[12]||(t[12]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"قیمت دوره : ",-1)),e("div",{class:o(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!l.value}])},[l.value?(i(),a("span",we,r(l.value?.show_price==="0"?"رایگان":l.value?.show_price+" تومان"),1)):v("",!0)],2)]),e("div",null,[t[13]||(t[13]=e("div",{class:"text-gray-500"},"خلاصه‌ی این دوره:",-1)),e("p",{class:o(["pr-0 md:pr-4 text-md md:text-lg text-gray-600",{"skeleton w-full p-5":!l.value}]),id:"course-summary"},r(l.value?.small_description),3)])]),e("div",ye,[e("button",{onClick:t[0]||(t[0]=n=>B()),class:"btn btn-primary btn-lg w-full","aria-label":`ثبت نام در دوره ${l.value?.title}`}," ثبت نام در دوره ",8,ke)])])])])]),e("section",$e,[t[14]||(t[14]=e("h2",{id:"desc-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"}," توضیحات دوره",-1)),l.value?(i(),a("div",{key:0,innerHTML:l.value?.description,class:"text-gray-700 leading-relaxed prose xl:prose-lg 2xl:prose-xl text-justify max-w-none"},null,8,Ce)):(i(),a("div",Le,[e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2)]))]),e("section",Ie,[t[15]||(t[15]=e("h2",{id:"episodes-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-6 pb-3 border-b-2 border-gray-200"},"سرفصل‌های دوره",-1)),e("div",Se,[(i(!0),a(P,null,Z(p.value,(n,c)=>(i(),a("article",{class:"relative",key:n.id,"aria-posinset":c+1,"aria-setsize":p.value.length},[h(u,{to:{name:"show_episode",params:{course_link:l.value.link,episode_link:n.link}},class:"block border border-gray-200 rounded-lg overflow-hidden transition-all duration-300 shadow hover:shadow-md hover:border-blue-300 bg-gray-50/50 hover:bg-gray-50","aria-label":`مشاهده قسمت ${c+1} - ${n.title}`},{default:j(()=>[e("div",Me,[e("div",Ve,[c>0?(i(),a("span",ze,r(c),1)):(i(),a("span",Be,"مقدمه"))]),e("div",Ee,[c>0?(i(),a("div",Te,r(c),1)):(i(),a("span",He,"مقدمه"))]),e("div",Ne,[e("h3",De,r(n.title),1),e("p",Ue,r(n.small_description),1)]),e("div",Pe,[e("span",{class:o([T(n.display_status),"text-xs font-medium px-3 py-1 rounded-full"])},r(H(n.display_status)),3)]),e("div",Ze,[e("button",Ae,[h(S(R),{class:"size-10"})])])])]),_:2},1032,["to","aria-label"])],8,je))),128))])]),t[19]||(t[19]=e("section",{class:"bg-white rounded-xl shadow-lg p-6 mt-8","aria-labelledby":"requirements-heading"},[e("h2",{id:"requirements-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"},"پیش‌نیازهای دوره"),e("ul",{class:"space-y-3 text-gray-700",role:"list"},[e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"آشنایی مقدماتی با مفاهیم برنامه‌نویسی")]),e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"داشتن کامپیوتر شخصی")]),e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"انگیزه و پشتکار برای یادگیری")])])],-1)),e("section",Oe,[t[18]||(t[18]=e("h2",{id:"instructor-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"},"مدرس دوره",-1)),e("div",qe,[e("div",Fe,[t[16]||(t[16]=e("div",{class:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center ml-4 shadow-lg","aria-hidden":"true"},[e("i",{class:"fas fa-user text-white text-2xl"})],-1)),e("div",null,[e("h3",Je,r(g.value.name),1),e("p",Re,r(g.value.title),1)])]),g.value?.slug?(i(),a("div",We,[h(u,{to:{name:"author_info",params:{slug:g.value?.slug}},class:"btn btn-primary"},{default:j(()=>[...t[17]||(t[17]=[_("مشاهده اطلاعات مدرس",-1)])]),_:1},8,["to"])])):v("",!0)])])]))])}}},Ye=N(Qe,[["__scopeId","data-v-40d480a0"]]);export{Ye as default};
