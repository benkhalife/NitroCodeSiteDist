import{c as n,o as d,d as e,_ as q,i as H,r as c,h as f,b as T,f as U,t as a,m as u,F as M,g as N,e as v,l as k,k as P,P as D,A as O,u as R,p as F,n as J,q as W}from"./index-BWdz8MLt.js";function Z(C,j){return d(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"})])}const G={class:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",lang:"fa",dir:"rtl"},K={key:0,class:"flex justify-center items-center h-screen","aria-busy":"true","aria-live":"polite"},Q={key:1,class:"container mx-auto px-4 py-16"},X={class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative max-w-3xl mx-auto text-center",role:"alert"},Y={key:2,class:"md:container mx-auto px-1 py-3 md:px-4 md:py-8",id:"main-content"},ee={class:"mb-6"},te={"aria-label":"Breadcrumb",class:"breadcrumbs text-primary text-sm",dir:"rtl"},se={itemscope:"",itemtype:"https://schema.org/BreadcrumbList",class:"flex gap-2"},le={itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem",class:"text-gray-700"},oe={itemprop:"name"},ae={class:"sr-only"},ie={class:"mb-8","aria-labelledby":"course-overview"},re={class:"flex flex-col lg:flex-row gap-6 p-2"},ne={class:"w-full xl:w-7/12 order-2 lg:order-1"},de={"aria-hidden":"false",class:"relative"},ce=["poster","aria-label"],ue=["src"],me=["src","alt"],pe={class:"sr-only"},ge=["src","alt"],xe={class:"w-full xl:w-5/12 bg-white rounded-xl shadow-lg order-1 lg:order-2","aria-labelledby":"course-card"},he={id:"course-card",class:"flex flex-col justify-between w-full h-full pt-6 p-4"},be={class:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-800 mb-2 border-b border-gray-100 pb-4","aria-hidden":"true"},fe={class:"rounded-xl p-2 md:p-4 flex flex-col gap-4"},ve={class:"flex gap-1 items-center pb-2"},_e={class:"text-lg md:text-2xl font-bold text-blue-600"},ye={class:"flex gap-1 items-center pb-2"},we={class:"text-lg md:text-2xl font-bold text-blue-600"},ke={class:"pr-0 md:pr-4 text-md md:text-lg text-gray-600",id:"course-summary"},$e={class:"w-full"},Le=["aria-label"],Ce={class:"bg-white rounded-xl shadow-lg p-2 md:p-6 xl:p-12 mb-8 course-description","aria-labelledby":"desc-heading"},je=["innerHTML"],Ae={class:"bg-white rounded-xl shadow-lg p-6","aria-labelledby":"episodes-heading"},Ie={class:"flex flex-col gap-6 md:gap-4"},Se=["aria-posinset","aria-setsize"],ze={class:"flex flex-wrap md:flex-nowrap gap-2 items-center p-4"},Ee={class:"absolute -top-4 z-10 -right-2 md:hidden bg-gray-50 w-10 h-10 rounded-full flex items-center justify-center border border-gray-200"},Ve={class:"text-blue-700 font-bold text-sm"},Be={class:"hidden md:flex md:order-1 flex-shrink-0 w-10 h-10 rounded-full bg-blue-600 items-center justify-center shadow-md","aria-hidden":"true"},qe={class:"text-white font-bold text-sm"},He={class:"order-0 w-full md:order-2 md:w-auto flex-grow mt-2 md:mt-0"},Te={class:"font-semibold text-gray-800 text-lg"},Ue={class:"text-gray-600 text-sm mt-1"},Me={class:"order-2 md:order-3 flex-shrink-0"},Ne={class:"order-3 md:order-4 flex"},Pe={class:"text-blue-600 hover:text-blue-800 transition-all duration-300 hover:scale-110","aria-hidden":"true"},De={class:"bg-white rounded-xl shadow-lg p-2 mt-8","aria-labelledby":"instructor-heading"},Oe={class:"flex flex-col md:flex-row items-center hover:bg-gray-500/5 duration-200 p-2 lg:p-6 rounded-md"},Re={class:"flex items-center gap-2 md:gap-4"},Fe={class:"font-bold text-gray-800 text-lg"},Je={class:"text-gray-600"},We={class:"md:mr-auto md:ml-0"},$=1200,L=675,Ze=1280,Ge=720,Ke={__name:"CourseView",setup(C){const A=H().params.link,o=c(null),i=c(null),g=c([]),h=c(!0),m=c(null),x=c({}),b=f(()=>o.value?`https://api.nitrocode.ir/${o.value.image}`:""),_=f(()=>i.value&&i.value.video_poster?`https://api.nitrocode.ir/${i.value.video_poster_url}`:b.value),y=f(()=>i.value&&i.value.video_url?`https://api.nitrocode.ir${i.value.video_url}`:null),I=t=>{R({htmlAttrs:{lang:"fa",dir:"rtl"},title:t.meta_title||`${t.title} | نیتروکد`,meta:[{name:"description",content:t.meta_description||t.small_description||"دوره آموزشی"},{name:"keywords",content:t.meta_keywords||"آموزش برنامه نویسی, دوره آموزشی, نیتروکد"},{name:"robots",content:t.meta_robots||"index,follow"},{property:"og:locale",content:"fa_IR"},{property:"og:title",content:t.meta_title||t.title},{property:"og:description",content:t.meta_description||t.small_description||"دوره آموزشی"},{property:"og:image",content:`https://api.nitrocode.ir/${t.image}`},{property:"og:url",content:window.location.href},{property:"og:type",content:"website"},{property:"og:site_name",content:"نیتروکد"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:t.meta_title||t.title},{name:"twitter:description",content:t.meta_description||t.small_description||"دوره آموزشی"},{name:"twitter:image",content:`https://api.nitrocode.ir/${t.image}`}],link:[{rel:"canonical",href:t.meta_canonical||window.location.href}],script:[{type:"application/ld+json",children:JSON.stringify(S(t))}]})},S=t=>{const s=window.location.origin,p={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"صفحه اصلی",item:`${s}/`},{"@type":"ListItem",position:2,name:"دوره‌ها",item:`${s}/courses`},{"@type":"ListItem",position:3,name:t.title,item:`${s}${window.location.pathname}`}]},r=[{"@context":"https://schema.org","@type":"Course",name:t.title,description:t.meta_description||t.small_description||"",url:`${s}${window.location.pathname}`,provider:{"@type":"Organization",name:"نیتروکد",url:s}},p];return i.value&&i.value.video_url&&r.push({"@context":"https://schema.org","@type":"VideoObject",name:`${t.title} — ویدیوی معرفی`,description:t.small_description||"",thumbnailUrl:_.value,uploadDate:i.value.upload_date||void 0,contentUrl:y.value,embedUrl:window.location.href}),{"@context":"https://schema.org","@graph":r}},z=()=>{F(()=>{const t=document.querySelector(".course-description");if(!t)return;t.querySelectorAll("img").forEach(l=>{l.hasAttribute("loading")||l.setAttribute("loading","lazy"),(!l.alt||l.alt.trim()==="")&&l.setAttribute("alt",o.value.title||"تصویر"),l.width||(l.width=$),l.height||(l.height=L)}),t.querySelectorAll("a").forEach(l=>{try{new URL(l.href,window.location.origin).origin!==window.location.origin&&(l.setAttribute("target","_blank"),l.setAttribute("rel","noopener noreferrer"))}catch{}})})},E=async()=>{try{const t=await O("site/active-user/course-shopping/add-to-cart/"+o.value.id);console.log(t)}catch(t){console.error(t)}},w=async()=>{h.value=!0,m.value=null;try{const t=await D(`site/course/${A}`);t.ok?(o.value=t.product,i.value=t.introduction,g.value=t.episodes||[],x.value=t.author||{},I(o.value),z()):m.value="دوره مورد نظر یافت نشد"}catch(t){m.value="خطا در اتصال به سرور",console.error(t)}finally{h.value=!1}},V=t=>{switch(t){case"free":return"bg-green-100 text-green-800";case"vip":return"bg-yellow-100 text-yellow-800";case"free_with_login":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},B=t=>{switch(t){case"free":return"رایگان";case"vip":return"ویژه";case"free_with_login":return"نیاز به ورود";default:return"قفل شده"}};return T(()=>{w()}),(t,s)=>{const p=P("router-link");return d(),n("div",G,[h.value?(d(),n("div",K,[...s[1]||(s[1]=[e("div",{class:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500",role:"status"},[e("span",{class:"sr-only"},"در حال بارگذاری…")],-1)])])):m.value?(d(),n("div",Q,[e("div",X,[s[2]||(s[2]=e("h2",{class:"text-xl font-bold mb-2"},"خطا در بارگذاری دوره",-1)),e("p",null,a(m.value),1),e("button",{onClick:w,class:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors"}," تلاش مجدد ")])])):o.value?(d(),n("div",Y,[e("header",ee,[e("nav",te,[e("ul",se,[s[4]||(s[4]=e("li",{itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},[e("a",{itemprop:"item",href:"/",class:"hover:underline"},[e("span",{itemprop:"name"},"صفحه اصلی")]),e("meta",{itemprop:"position",content:"1"})],-1)),s[5]||(s[5]=e("li",{itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},[e("a",{itemprop:"item",href:"/courses",class:"hover:underline"},[e("span",{itemprop:"name"},"دوره‌ها")]),e("meta",{itemprop:"position",content:"2"})],-1)),e("li",le,[e("span",oe,a(o.value.title),1),s[3]||(s[3]=e("meta",{itemprop:"position",content:"3"},null,-1))])])]),e("h1",ae,a(o.value.title),1)]),e("section",ie,[e("div",re,[e("div",ne,[e("figure",de,[i.value&&i.value.video_url?(d(),n("video",{key:0,poster:_.value,controls:"",playsinline:"",preload:"metadata",width:Ze,height:Ge,class:"top-0 left-0 w-full h-full rounded-xl bg-black shadow-lg","aria-label":`ویدیوی معرفی دوره ${o.value.title}`},[e("source",{src:y.value,type:"video/mp4"},null,8,ue),s[6]||(s[6]=u(" مرورگر شما از پخش ویدیو پشتیبانی نمی‌کند. ",-1))],8,ce)):(d(),n("img",{key:1,src:b.value,alt:o.value.title+" — تصویر دوره",loading:"lazy",width:$,height:L,class:"w-full h-auto rounded-xl shadow-lg"},null,8,me)),e("figcaption",pe,"ویدیوی معرفی دوره "+a(o.value.title),1)]),e("noscript",null,[e("img",{src:b.value,alt:o.value.title+" — تصویر دوره",loading:"lazy"},null,8,ge)])]),e("aside",xe,[e("div",he,[e("h2",be,a(o.value.title),1),s[12]||(s[12]=e("div",{class:"flex flex-wrap gap-2",role:"list"},[e("span",{class:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"},[e("i",{class:"fas fa-code ml-1","aria-hidden":"true"}),u(" برنامه‌نویسی ")]),e("span",{class:"bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"},[e("i",{class:"fas fa-clock ml-1","aria-hidden":"true"}),u(" ۸ ساعت ")]),e("span",{class:"bg-purple-100 text-purple-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"},[e("i",{class:"fas fa-signal ml-1","aria-hidden":"true"}),u(" مقدماتی ")])],-1)),e("div",fe,[e("div",ve,[s[7]||(s[7]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"تعداد قسمت‌ها : ",-1)),e("div",_e,a(g.value.length),1)]),s[10]||(s[10]=e("div",{class:"flex gap-1 items-center pb-2"},[e("div",{class:"text-gray-600 text-lg md:text-xl"},"مدت زمان دوره : "),e("div",{class:"text-lg md:text-2xl font-bold text-blue-600"},"۸ ساعت")],-1)),e("div",ye,[s[8]||(s[8]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"قیمت دوره : ",-1)),e("div",we,a(o.value.show_price==="0"?"رایگان":o.value.show_price+" تومان"),1)]),e("div",null,[s[9]||(s[9]=e("div",{class:"text-gray-500"},"خلاصه‌ی این دوره:",-1)),e("p",ke,a(o.value.small_description),1)])]),e("div",$e,[e("button",{onClick:s[0]||(s[0]=l=>E()),class:"btn btn-primary btn-lg w-full","aria-label":`ثبت نام در دوره ${o.value.title}`},[...s[11]||(s[11]=[e("i",{class:"fas fa-shopping-cart ml-2","aria-hidden":"true"},null,-1),u(" ثبت نام در دوره ",-1)])],8,Le)])])])])]),e("section",Ce,[s[13]||(s[13]=e("h2",{id:"desc-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"},"توضیحات دوره",-1)),e("div",{innerHTML:o.value.description,class:"text-gray-700 leading-relaxed prose xl:prose-lg 2xl:prose-xl text-justify max-w-none"},null,8,je)]),e("section",Ae,[s[14]||(s[14]=e("h2",{id:"episodes-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-6 pb-3 border-b-2 border-gray-200"},"سرفصل‌های دوره",-1)),e("div",Ie,[(d(!0),n(M,null,N(g.value,(l,r)=>(d(),n("article",{class:"relative",key:l.id,"aria-posinset":r+1,"aria-setsize":g.value.length},[v(p,{to:{name:"show_episode",params:{course_link:o.value.link,episode_link:l.link}},class:"block border border-gray-200 rounded-lg overflow-hidden transition-all duration-300 shadow hover:shadow-md hover:border-blue-300 bg-gray-50/50 hover:bg-gray-50","aria-label":`مشاهده قسمت ${r+1} - ${l.title}`},{default:k(()=>[e("div",ze,[e("div",Ee,[e("span",Ve,a(r+1),1)]),e("div",Be,[e("div",qe,a(r+1),1)]),e("div",He,[e("h3",Te,a(l.title),1),e("p",Ue,a(l.small_description),1)]),e("div",Me,[e("span",{class:J([V(l.display_status),"text-xs font-medium px-3 py-1 rounded-full"])},a(B(l.display_status)),3)]),e("div",Ne,[e("button",Pe,[v(W(Z),{class:"size-10"})])])])]),_:2},1032,["to","aria-label"])],8,Se))),128))])]),s[18]||(s[18]=e("section",{class:"bg-white rounded-xl shadow-lg p-6 mt-8","aria-labelledby":"requirements-heading"},[e("h2",{id:"requirements-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"},"پیش‌نیازهای دوره"),e("ul",{class:"space-y-3 text-gray-700",role:"list"},[e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"آشنایی مقدماتی با مفاهیم برنامه‌نویسی")]),e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"داشتن کامپیوتر شخصی")]),e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"انگیزه و پشتکار برای یادگیری")])])],-1)),e("section",De,[s[17]||(s[17]=e("h2",{id:"instructor-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"},"مدرس دوره",-1)),e("div",Oe,[e("div",Re,[s[15]||(s[15]=e("div",{class:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center ml-4 shadow-lg","aria-hidden":"true"},[e("i",{class:"fas fa-user text-white text-2xl"})],-1)),e("div",null,[e("h3",Fe,a(x.value.name),1),e("p",Je,a(x.value.title),1)])]),e("div",We,[v(p,{to:{name:"author_info",params:{slug:x.value.slug}},class:"btn btn-primary"},{default:k(()=>[...s[16]||(s[16]=[u("مشاهده اطلاعات مدرس",-1)])]),_:1},8,["to"])])])])])):U("",!0)])}}},Xe=q(Ke,[["__scopeId","data-v-7ae544b7"]]);export{Xe as default};
