import{c as a,o as i,d as e,_ as U,i as P,r as m,h as y,b as R,n as o,t as n,f,m as b,e as h,p as k,q,F as A,g as O,l as I,k as F,P as J,s as W,A as G,j as K,u as Q}from"./index-BUXiIphP.js";import{S as j}from"./sweetalert2.esm.all-NNS-RXd7.js";function X(_,v){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function Y(_,v){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.91 11.672a.375.375 0 0 1 0 .656l-5.603 3.113a.375.375 0 0 1-.557-.328V8.887c0-.286.307-.466.557-.327l5.603 3.112Z"})])}function ee(_,v){return i(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}const te={class:"min-h-screen bg-gray-50"},se={class:"mb-6 bg-white shadow-sm border-b border-gray-200"},le={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},oe={"aria-label":"Breadcrumb",class:"breadcrumbs text-primary text-sm mt-4",dir:"rtl"},ae={itemscope:"",itemtype:"https://schema.org/BreadcrumbList",class:"flex gap-2"},ie={itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem","aria-current":"page",class:"text-gray-700"},ne={key:0,class:"container mx-auto px-4 py-16"},re={class:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded relative max-w-3xl mx-auto text-center",role:"alert"},de={key:1,class:"md:container mx-auto px-1 md:px-4","aria-labelledby":"main-course-title"},ce={class:"mb-8","aria-labelledby":"course-overview"},ue={class:"flex flex-col lg:flex-row gap-6 p-2"},me={"aria-hidden":"false",class:"relative"},pe=["poster","aria-label"],xe=["src"],ge={class:"sr-only"},he=["src","alt"],ve={class:"w-full xl:w-5/12 bg-white rounded-xl shadow-lg order-1 lg:order-2","aria-labelledby":"course-card"},fe={id:"course-card",class:"flex flex-col justify-between w-full h-full pt-6 p-4"},be={key:1,class:"flex flex-wrap gap-2",role:"list"},_e={class:"bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"},we={class:"rounded-xl p-2 md:p-4 flex flex-col gap-4"},ye={class:"flex gap-1 items-center pb-2"},ke={key:0,class:"inline-flex items-center gap-2"},$e={class:"tooltip","data-tip":"وضعیت درحال ضبط به معنی آن است که هنوز قسمت‌ها(درس‌های این دوره) درحال ضبط هست و هنوز تمام آن قسمت‌ها روی سایت قرار نگرفته و به مرور زمان قسمت‌های بعدی روی سایت قرار می‌گیرد و تکمیل می شود"},Ce={class:"flex gap-1 items-center pb-2"},Le={class:"flex gap-1 items-center pb-2"},Se={class:"flex gap-1 items-center pb-2"},Me={key:0},Be={class:"w-full flex flex-col md:flex-row gap-2"},Ie=["aria-label"],je={class:"bg-white rounded-xl shadow-lg p-2 md:p-6 xl:p-12 mb-8 course-description","aria-labelledby":"desc-heading"},Te=["innerHTML"],Ve={key:1,class:"flex flex-col gap-4"},ze={id:"episodes",class:"bg-white rounded-xl shadow-lg p-6","aria-labelledby":"episodes-heading"},De={class:"flex flex-col gap-6 md:gap-4"},Ee=["aria-posinset","aria-setsize"],He={class:"flex flex-wrap md:flex-nowrap gap-2 items-center p-4"},Ne={class:"absolute -top-4 z-10 -right-2 md:hidden bg-gray-50 w-10 h-10 rounded-full flex items-center justify-center border border-gray-200"},Ze={key:0,class:"text-blue-700 font-bold text-sm"},Ue={key:1,class:"text-blue-700 font-bold text-sm"},Pe={class:"hidden md:flex md:order-1 flex-shrink-0 w-10 h-10 rounded-full bg-blue-600 items-center justify-center shadow-md","aria-hidden":"true"},Re={key:0,class:"text-white font-bold text-sm"},qe={key:1,class:"text-blue-700 font-bold text-sm text-white"},Ae={class:"order-0 w-full md:order-2 md:w-auto flex-grow mt-2 md:mt-0"},Oe={class:"font-semibold text-gray-800 text-lg"},Fe={class:"text-gray-600 text-sm mt-1"},Je={class:"order-2 md:order-3 flex-shrink-0"},We={class:"order-3 md:order-4 flex"},Ge={class:"text-blue-600 hover:text-blue-800 transition-all duration-300 hover:scale-110"},Ke={class:"bg-white rounded-xl shadow-lg p-2 mt-8","aria-labelledby":"instructor-heading"},Qe={class:"flex flex-col md:flex-row items-center hover:bg-gray-500/5 duration-200 p-2 lg:p-6 rounded-md"},Xe={class:"flex items-center gap-2 md:gap-4"},Ye={class:"font-bold text-gray-800 text-lg"},et={class:"text-gray-600"},tt={key:0,class:"md:mr-auto md:ml-0"},st=1280,lt=720,ot={__name:"CourseView",setup(_){const v=P(),$=K(),T=v.params.link,l=m(null),d=m(null),p=m([]),C=m(!0),x=m(null),g=m({}),w=m(0),L=y(()=>l.value?`https://api.nitrocode.ir/${l.value.image}`:""),S=y(()=>d.value&&d.value.video_poster?`https://api.nitrocode.ir/${d.value.video_poster_url}`:L.value),M=y(()=>d.value&&d.value.video_url?`https://api.nitrocode.ir${d.value.video_url}`:null),V=s=>{const t=document.getElementById(s);t&&(t.scrollIntoView({behavior:"smooth",block:"start"}),window.history.pushState(null,null,`#${s}`))},z=s=>{Q({htmlAttrs:{lang:"fa",dir:"rtl"},title:s.meta_title||`${s.title} | نیتروکد`,meta:[{name:"description",content:s.meta_description||s.small_description||"دوره آموزشی"},{name:"keywords",content:s.meta_keywords||"آموزش برنامه نویسی, دوره آموزشی, نیتروکد"},{name:"robots",content:s.meta_robots||"index,follow"},{property:"og:locale",content:"fa_IR"},{property:"og:title",content:s.meta_title||s.title},{property:"og:description",content:s.meta_description||s.small_description||"دوره آموزشی"},{property:"og:image",content:`https://api.nitrocode.ir/${s.image}`},{property:"og:url",content:window.location.href},{property:"og:type",content:"website"},{property:"og:site_name",content:"نیتروکد"},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:title",content:s.meta_title||s.title},{name:"twitter:description",content:s.meta_description||s.small_description||"دوره آموزشی"},{name:"twitter:image",content:`https://api.nitrocode.ir/${s.image}`}],link:[{rel:"canonical",href:s.meta_canonical||window.location.href}],script:[{type:"application/ld+json",children:JSON.stringify(D(s))}]})},D=s=>{const t=window.location.origin,u={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"صفحه اصلی",item:`${t}/`},{"@type":"ListItem",position:2,name:"دوره‌ها",item:`${t}/courses`},{"@type":"ListItem",position:3,name:s.title,item:`${t}${window.location.pathname}`}]},c=[{"@context":"https://schema.org","@type":"Course",name:s.title,description:s.meta_description||s.small_description||"",url:`${t}${window.location.pathname}`,courseCode:s.code||`course-${s.id}`,hasCourseInstance:{"@type":"CourseInstance",courseMode:"online"},provider:{"@type":"Organization",name:"نیتروکد",url:t}},u];return d.value&&d.value.video_url&&c.push({"@context":"https://schema.org","@type":"VideoObject",name:`${s.title} — ویدیوی معرفی`,description:s.small_description||"",thumbnailUrl:S.value,uploadDate:s.created_at.replace(" ","T")+"+03:30"||void 0,contentUrl:M.value,embedUrl:window.location.href}),{"@context":"https://schema.org","@graph":c}},E=async()=>{try{const s=await G("site/active-user/course-shopping/add-to-cart/"+l.value.id);console.log(s),(s.ok||s.ok==!1&&s.carts&&s.carts.length)&&j.fire({icon:"success",title:"دوره به سبد خرید اضافه شد",text:"می‌توانید پرداخت را انجام دهید یا سبد خرید را مشاهده کنید.",showCancelButton:!0,confirmButtonText:"پرداخت و مشاهده‌ی دوره",cancelButtonText:"مشاهده سبد خرید"}).then(t=>{t.isConfirmed?$.push({name:"user_cart",hash:"#checkout_now"}):t.dismiss===j.DismissReason.cancel&&$.push({name:"user_cart"})})}catch(s){console.error(s)}},B=async()=>{C.value=!0,x.value=null,console.log("start fetchCourseData");try{const s=await J(`site/course/${T}`);if(console.log("get fetchCourseData"),s.ok){l.value=s.product,d.value=s.introduction,p.value=s.episodes||[],g.value=s.author||{};const t=p.value.reduce((u,r)=>u+(parseInt(r.duration)||0),0);w.value=H(t),z(l.value),W(()=>{console.log("hidden loading"),window.isLoading.value=!1})}else x.value="دوره مورد نظر یافت نشد"}catch(s){x.value="خطا در اتصال به سرور",console.error(s)}finally{C.value=!1}},H=s=>{const t=Number(s)||0,u=Math.floor(t/3600),r=Math.floor(t%3600/60);return`${u.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},N=s=>{switch(s){case"free":return"bg-green-100 text-green-800";case"vip":return"bg-yellow-100 text-yellow-800";case"free_with_login":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},Z=s=>{switch(s){case"free":return"رایگان";case"vip":return"ویژه";case"free_with_login":return"نیاز به ورود";default:return"قفل شده"}};return R(()=>{B()}),(s,t)=>{const u=F("router-link");return i(),a("div",te,[e("header",se,[e("div",le,[e("h1",{id:"main-course-title",class:o(["text-xl md:text-2xl font-bold text-gray-900",{"skeleton w-72 p-4":!l.value}])},n(l.value?.title),3),e("nav",oe,[e("ul",ae,[t[3]||(t[3]=e("li",{itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},[e("a",{itemprop:"item",href:"/",class:"hover:underline"},[e("span",{itemprop:"name"},"صفحه اصلی")]),e("meta",{itemprop:"position",content:"1"})],-1)),t[4]||(t[4]=e("li",{itemprop:"itemListElement",itemscope:"",itemtype:"https://schema.org/ListItem"},[e("a",{itemprop:"item",href:"/courses",class:"hover:underline"},[e("span",{itemprop:"name"},"دوره‌ها")]),e("meta",{itemprop:"position",content:"2"})],-1)),e("li",ie,[e("span",{itemprop:"name",class:o({"skeleton w-72 p-3":!l.value})},n(l.value?.title),3),t[2]||(t[2]=e("meta",{itemprop:"position",content:"3"},null,-1))])])])])]),x.value?(i(),a("div",ne,[e("div",re,[t[5]||(t[5]=e("h2",{class:"text-xl font-bold mb-2"},"خطا در بارگذاری دوره",-1)),e("p",null,n(x.value),1),e("button",{onClick:B,class:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors"}," تلاش مجدد ")])])):(i(),a("div",de,[e("section",ce,[e("div",ue,[e("div",{class:o(["w-full xl:w-7/12 order-2 lg:order-1",{skeleton:!l.value}])},[e("figure",me,[d.value&&d.value.video_url?(i(),a("video",{key:0,poster:S.value,controls:"",playsinline:"",preload:"metadata",width:st,height:lt,class:"top-0 left-0 w-full h-full rounded-xl bg-black shadow-lg","aria-label":`ویدیوی معرفی دوره ${l.value?.title}`},[e("source",{src:M.value,type:"video/mp4"},null,8,xe),t[6]||(t[6]=b(" مرورگر شما از پخش ویدیو پشتیبانی نمی‌کند. ",-1))],8,pe)):f("",!0),e("figcaption",ge,"ویدیوی معرفی دوره "+n(l.value?.title),1)]),e("noscript",null,[e("img",{src:L.value,alt:l.value?.title+" — تصویر دوره",loading:"lazy"},null,8,he)])],2),e("aside",ve,[e("div",fe,[l.value?(i(),a("div",be,[t[7]||(t[7]=e("span",{class:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"}," برنامه‌نویسی ",-1)),e("span",_e,n(w.value)+" ساعت ",1),t[8]||(t[8]=e("span",{class:"bg-purple-100 text-purple-800 text-sm font-medium px-3 py-1 rounded-full flex items-center",role:"listitem"}," مقدماتی ",-1))])):(i(),a("div",{key:0,class:o({"skeleton w-full p-5":!l.value})},null,2)),e("div",we,[e("div",ye,[t[10]||(t[10]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"وضعیت دوره : ",-1)),e("div",{class:o(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!l.value}])},[l.value&&l.value.status==="recording"?(i(),a("span",ke,[t[9]||(t[9]=b("درحال ضبط ",-1)),e("span",$e,[h(k(X),{class:"size-6 text-warning"})])])):f("",!0)],2)]),e("div",Ce,[t[11]||(t[11]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"تعداد قسمت‌ها : ",-1)),e("div",{class:o(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!l.value}])},n(p.value?.length||""),3)]),e("div",Le,[t[12]||(t[12]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"مدت زمان دوره : ",-1)),e("div",{class:o(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!l.value}])},n(w.value),3)]),e("div",Se,[t[13]||(t[13]=e("div",{class:"text-gray-600 text-lg md:text-xl"},"قیمت دوره : ",-1)),e("div",{class:o(["text-lg md:text-2xl font-bold text-blue-600",{"skeleton w-72 p-3":!l.value}])},[l.value?(i(),a("span",Me,n(l.value?.show_price==="0"?"رایگان":l.value?.show_price+" تومان"),1)):f("",!0)],2)]),e("div",null,[t[14]||(t[14]=e("div",{class:"text-gray-500"},"خلاصه‌ی این دوره:",-1)),e("p",{class:o(["pr-0 md:pr-4 text-md md:text-lg text-gray-600",{"skeleton w-full p-5":!l.value}]),id:"course-summary"},n(l.value?.small_description),3)])]),e("div",Be,[e("button",{onClick:t[0]||(t[0]=r=>E()),class:"btn btn-primary btn-lg flex-1 p-2","aria-label":`ثبت نام در دوره ${l.value?.title}`},[t[15]||(t[15]=b(" خرید دوره و مشاهده ",-1)),h(k(ee),{class:"size-6 inline-block mr-2 text-teal-100"})],8,Ie),e("a",{onClick:t[1]||(t[1]=q(r=>V("episodes"),["prevent"])),class:"btn btn-outline btn-lg opacity-70",href:"#episodes"},"مشاهده سرفصل‌ها")])])])])]),e("section",je,[t[16]||(t[16]=e("h2",{id:"desc-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"}," توضیحات دوره",-1)),l.value?(i(),a("div",{key:0,innerHTML:l.value?.description,class:"text-gray-700 leading-relaxed prose xl:prose-lg 2xl:prose-xl text-justify max-w-none"},null,8,Te)):(i(),a("div",Ve,[e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2),e("div",{class:o({"skeleton w-full p-4":!l.value})},null,2)]))]),e("section",ze,[t[17]||(t[17]=e("h2",{id:"episodes-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-6 pb-3 border-b-2 border-gray-200"},"سرفصل‌های دوره",-1)),e("div",De,[(i(!0),a(A,null,O(p.value,(r,c)=>(i(),a("article",{class:"relative",key:r.id,"aria-posinset":c+1,"aria-setsize":p.value.length},[h(u,{to:{name:"show_episode",params:{course_link:l.value.link,episode_link:r.link}},class:"block border border-gray-200 rounded-lg overflow-hidden transition-all duration-300 shadow hover:shadow-md hover:border-blue-300 bg-gray-50/50 hover:bg-gray-50","aria-label":`مشاهده قسمت ${c+1} - ${r.title}`},{default:I(()=>[e("div",He,[e("div",Ne,[c>0?(i(),a("span",Ze,n(c),1)):(i(),a("span",Ue,"مقدمه"))]),e("div",Pe,[c>0?(i(),a("div",Re,n(c),1)):(i(),a("span",qe,"مقدمه"))]),e("div",Ae,[e("h3",Oe,n(r.title),1),e("p",Fe,n(r.small_description),1)]),e("div",Je,[e("span",{class:o([N(r.display_status),"text-xs font-medium px-3 py-1 rounded-full"])},n(Z(r.display_status)),3)]),e("div",We,[e("div",Ge,[h(k(Y),{class:"size-10"})])])])]),_:2},1032,["to","aria-label"])],8,Ee))),128))])]),t[21]||(t[21]=e("section",{class:"bg-white rounded-xl shadow-lg p-6 mt-8","aria-labelledby":"requirements-heading"},[e("h2",{id:"requirements-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"},"پیش‌نیازهای دوره"),e("ul",{class:"space-y-3 text-gray-700",role:"list"},[e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"آشنایی مقدماتی با مفاهیم برنامه‌نویسی")]),e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"داشتن کامپیوتر شخصی")]),e("li",{class:"flex items-start"},[e("i",{class:"fas fa-check-circle text-green-500 mt-1 ml-3 text-lg","aria-hidden":"true"}),e("span",{class:"leading-relaxed"},"انگیزه و پشتکار برای یادگیری")])])],-1)),e("section",Ke,[t[20]||(t[20]=e("h2",{id:"instructor-heading",class:"text-xl md:text-2xl font-bold text-gray-800 mb-4 pb-3 border-b-2 border-gray-200"},"مدرس دوره",-1)),e("div",Qe,[e("div",Xe,[t[18]||(t[18]=e("div",{class:"w-16 h-16 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center ml-4 shadow-lg","aria-hidden":"true"},[e("i",{class:"fas fa-user text-white text-2xl"})],-1)),e("div",null,[e("h3",Ye,n(g.value.name),1),e("p",et,n(g.value.title),1)])]),g.value?.slug?(i(),a("div",tt,[h(u,{to:{name:"author_info",params:{slug:g.value?.slug}},class:"btn btn-primary"},{default:I(()=>[...t[19]||(t[19]=[b("مشاهده اطلاعات مدرس",-1)])]),_:1},8,["to"])])):f("",!0)])])]))])}}},nt=U(ot,[["__scopeId","data-v-614462fa"]]);export{nt as default};
